<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMish Furniture</title>
    <style>
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-top: 20px;
        }

        .product {
            width: 30%;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
        }

        img {
            max-width: 100%;
            height: auto;
            cursor: pointer;
        }

        .buy-button {
            background-color: #FF9900;
            color: white;
            border: none;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin-top: 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        .buy-button:hover {
            background-color: #E68A00;
        }
    </style>
</head>
<body>

<div class="container" id="product-container">
    <!-- Products will be displayed here -->
</div>

<script>
    // Function to fetch CSV data and update product display
    function fetchDataAndDisplay() {
        fetch('products.csv')
            .then(response => response.text())
            .then(data => {
                const rows = data.split('\n').slice(1); // Remove header row
                const container = document.getElementById('product-container');
                container.innerHTML = ''; // Clear previous products

                rows.forEach(row => {
                    const columns = row.split(',');
                    if (columns.length === 4) { // Check if all columns are present
                        const description = columns[0].trim();
                        const imageUrl = columns[1].trim();
                        const price = columns[2].trim();
                        const productUrl = columns[3].trim();

                        const productHTML = `
                            <div class="product">
                                <img src="${imageUrl}" alt="${description}" onclick="window.open('${productUrl}', '_blank')">
                                <h3>${description}</h3>
                                <p>Price: ${price}</p>
                                <button class="buy-button" onclick="window.open('${productUrl}', '_blank')">Buy Now</button>
                            </div>
                        `;
                        container.innerHTML += productHTML;
                    }
                });
            })
            .catch(error => console.error('Error fetching data:', error));
    }

    // Fetch data initially and then refresh every 60 seconds
    fetchDataAndDisplay();
    setInterval(fetchDataAndDisplay, 60000);
</script>

</body>
</html>
