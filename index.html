<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amazon Affiliate</title>
<style>
    /* Base styles */
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
    }
    #amazon-content {
        width: 100%;
        min-height: 50vh; /* Set a minimum height for the container, adjust as needed */
        padding: 20px; /* Add some padding for better readability */
    }
    #amazon-content p {
        margin: 0; /* Remove default margins for paragraphs */
    }
    
    /* Responsive styles */
    @media only screen and (max-width: 768px) {
        /* Adjust styles for smaller screens */
        #amazon-content {
            padding: 10px; /* Reduce padding for smaller screens */
        }
    }
</style>
</head>
<body>

<div id="amazon-content">
    <!-- Content will be dynamically loaded here -->
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    var affiliateTag = 'ctl0d3d-20';
    var amazonURL = 'amazon_content.html'; // Path to the modified HTML file

    fetch(amazonURL)
        .then(response => response.text())
        .then(data => {
            // Inject the modified HTML content into the page
            document.getElementById('amazon-content').innerHTML = data;
            
            // Modify links to include "amazon.com" and affiliate tag
            var links = document.querySelectorAll('a[href^="https://amznlink.github.io"]');
            links.forEach(function(link) {
                var originalUrl = link.href;
                // Append "amazon.com" domain and affiliate tag to the original URL
                var modifiedUrl = 'https://www.amazon.com' + originalUrl.substring(originalUrl.indexOf('/dp/')) + '&tag=' + affiliateTag;
                // Update the href attribute with the modified URL
                link.href = modifiedUrl;
            });
        })
        .catch(error => {
            console.error('Error loading Amazon content:', error);
            document.getElementById('amazon-content').innerHTML = '<p>Failed to load Amazon content. Please try again later.</p>';
        });
});
</script>

</body>
</html>
